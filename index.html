<!doctype html>
<html class="no-js" lang="zxx">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>New News</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="assets/img/new-news-icon.png">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/bootstrap.css">
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

</head>
<body>
<header>
    <div class="header-area main-header">
        <div class="header-top">
            <div class=" row col-xl-12 d-flex justify-content-between align-items-center">
                <div class="header-info-left">
                    <div class="header-social d-none d-sm-block" style="margin-left: 50px">
                        <a href="#"><i class="fa fa-facebook-f"></i></a>
                        <a href="#"><i class="fa fa-instagram"></i></a>
                        <a href="#"><i class="fa fa-twitter"></i></a>
                        <a href="#"><i class="fa fa-linkedin-in"></i></a>
                        <a href="#"><i class="fa fa-tumblr"></i></a>
                    </div>
                </div>
                <div class="header-info-mid">

                    <div class="logo">
                        <a href="index.html"><img src="assets/img/new-news-logo2.png" width='400' height="auto"></a>
                    </div>
                </div>
                <div class="header-info-right d-flex align-items-center">
                    <ul id="login_state">
                        <li>
                            <form class="search-form" action="search_screen.html">
                                <i class="fa fa-search"></i>
                                <input type="search" class="form-control" placeholder="Search Here"
                                       title="Search here" name="search">
                            </form>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="header-bottom  header-sticky">
            <div class="row align-items-center">
                <div class="col-xl-12">
                    <div class="logo2">
                        <a><img src="assets/img/new-news-logo2.png" width='350' height="auto"></a>
                    </div>
                    <div class="logo3 d-block d-sm-none">
                        <a><img src="assets/img/new-news-logo2.png" width='300' height="auto"></a>
                    </div>

                    <div class="main-menu text-center d-none d-lg-block">
                        <nav>
                            <ul id="navigation">
                                <li><a href="index.html">Home</a></li>
                                <li><a href="category.html?category=Politics">Politics</a></li>
                                <li><a href="category.html?category=Health">Health</a></li>
                                <li><a href="category.html?category=Economics">Economics</a></li>
                                <li><a href="category.html?category=Sport">Sport</a></li>
                                <li><a href="category.html?category=Technology">Technology</a></li>
                            </ul>
                        </nav>
                    </div>
                </div>

                <div class="col-xl-12">
                    <div class="mobile_menu d-block d-lg-none"></div>
                </div>
            </div>
        </div>
    </div>
</header>
<main>

    <section class="popular-item-area fix pt-padding">
        <div class="container-fluid p-0">
            <div class="custom-row">
                <div class="popular-item owl-carousel">




                    <div class="single-items">
                        <div class="items-img">
                            <img src="https://reputationtoday.in/wp-content/uploads/2019/07/journalist.jpg" alt="">

                            <div class="container">
                                <div class="row">
                                    <div class="col-xl-9 col-lg-12">
                                        <div class="slider-caption">
                                            <h2>Be come a journalist in your life and record events around you</h2>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>



                    <div class="single-items">
                        <div class="items-img">
                            <img src="https://plsadaptive.s3.amazonaws.com/eco/images/channel_content/images/mercedes-vision-avtr.jpg" alt="">

                            <div class="container">
                                <div class="row">
                                    <div class="col-xl-9 col-lg-12">
                                        <div class="slider-caption">
                                            <h2>The secret to moving this ancient sphinx screening</h2>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="single-items">
                        <div class="items-img">
                            <img src="assets/img/hero/xslide2.jpg.pagespeed.ic.cWjKkcTiXR.webp" alt="">
                            <div class="container">
                                <div class="row">
                                    <div class="col-xl-9 col-lg-12">
                                        <div class="slider-caption">
                                            <h2>The secret to moving this ancient sphinx screening</h2>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>



                </div>
            </div>
        </div>
    </section>


    <section class="tranding-area section-padding container">
        <div class="row">
            <div class="col-lg-12">
                <div class="section-tittle mb-30 d-flex align-items-center justify-content-between">
                    <h2>Top 3 News</h2>
                </div>
            </div>
        </div>
        <div class="row" id="top-news-wrapper"></div>
    </section>

    <section class="tranding-area section-padding container">
        <div class="row">
            <div class="col-lg-12">
                <div class="section-tittle mb-30 d-flex align-items-center justify-content-between">
                    <h2>Trending Now</h2>
                    <a href="#">View All</a>
                </div>
            </div>
        </div>
        <div class="row" id="trending-wrapper">
            <div class="col-lg-4 col-md-6 col-sm-12">
                <div class="trending mb-30">
                    <div class="trend-top-img">
                        <!--                        <img src="assets/img/gallery/xtrending1.jpg.pagespeed.ic.BIcMmi61Jx.jpg" alt="" height="445" style="object-fit: cover">-->
                        <img src="https://en.africatopsports.com/wp-content/uploads/2021/12/UEFA-Champions-league-1.jpg"
                             alt="" height="445" style="object-fit: cover">
                        <div class="trend-top-cap">
                            <span>Technology</span>
                            <h2><a href="news_details.html">Nancy multi Chinese business woman trying</a></h2>
                            <p>12 Nov 2020 I by <a href="#">Jack Miller</a></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 col-sm-6">
                <div class="properties mb-30">
                    <div class="properties-card">
                        <div class="properties-img">
                            <a href="news_details.html"><img
                                    src="https://en.africatopsports.com/wp-content/uploads/2021/12/UEFA-Champions-league-1.jpg"
                                    alt=""></a>
                            <div class="img-text">
                                <span>Food</span>
                            </div>
                        </div>
                        <div class="properties-caption">
                            <h3><a href="news_details.html">Class property employ ancho red multi level mansion.</a>
                            </h3>
                            <p>12 Nov 2020 I by <a href="#">Jack Miller</a></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 col-sm-6">
                <div class="properties mb-30">
                    <div class="properties-card">
                        <div class="properties-img">
                            <a href="news_details.html"><img
                                    src="assets/img/gallery/xtrending3.jpg.pagespeed.ic.rBNaL6BhJG.jpg" alt=""></a>
                            <div class="img-text">
                                <span>Food</span>
                            </div>
                        </div>
                        <div class="properties-caption">
                            <h3><a href="news_details.html">Best garden wing supplies for the horticu ltural</a>
                            </h3>
                            <p>12 Nov 2020 I by <a href="#">Jack Miller</a></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 col-sm-6">
                <div class="properties mb-30">
                    <div class="properties-card">
                        <div class="properties-img">
                            <a href="news_details.html"><img
                                    src="assets/img/gallery/xtrending4.jpg.pagespeed.ic.uyfP7nzjyE.jpg" alt=""></a>
                            <div class="img-text">
                                <span class="color4">Entertainment</span>
                            </div>
                        </div>
                        <div class="properties-caption">
                            <h3><a href="news_details.html">These insects carry enough bacteria to the</a></h3>
                            <p>12 Nov 2020 I by <a href="#">Jack Miller</a></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 col-sm-6">
                <div class="properties mb-30">
                    <div class="properties-card">
                        <div class="properties-img">
                            <a href="news_details.html"><img
                                    src="assets/img/gallery/xtrending5.jpg.pagespeed.ic.PmcMJTelyI.jpg" alt=""></a>
                            <div class="img-text">
                                <span class="color5">Fashion</span>
                            </div>
                        </div>
                        <div class="properties-caption">
                            <h3><a href="news_details.html">Nancy multi Chinese business woman trying</a></h3>
                            <p>12 Nov 2020 I by <a href="#">Jack Miller</a></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 col-sm-6">
                <div class="properties mb-30">
                    <div class="properties-card">
                        <div class="properties-img">
                            <a href="#"><img
                                    src="assets/img/gallery/xtrending6.jpg.pagespeed.ic.sq3Z2AFpAW.jpg"></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <section class="whats-news-area pt-50 pb-20">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 whats-news-wrapper">

                    <div class="row justify-content-between align-items-end mb-15">
                        <div class="col-xl-12">
                            <div class="section-tittle section-tittle2 mb-30 d-flex align-items-center justify-content-between flex-wrap">
                                <h2>What's New</h2>

                                <div class="properties__button">
                                    <nav>
                                        <div class="nav nav-tabs" id="nav-tab" role="tablist">
                                            <a class="nav-item nav-link active" id="nav-all-tab" data-toggle="tab"
                                               href="#nav-All" role="tab" aria-controls="nav-home"
                                               aria-selected="true">All</a>
                                            <a class="nav-item nav-link" id="nav-politics-tab" data-toggle="tab"
                                               href="#nav-Politics" role="tab" aria-controls="nav-profile"
                                               aria-selected="false">Politics</a>
                                            <a class="nav-item nav-link" id="nav-health-tab" data-toggle="tab"
                                               href="#nav-Health" role="tab" aria-controls="nav-contact"
                                               aria-selected="false">Health</a>
                                            <a class="nav-item nav-link" id="nav-economics-tab" data-toggle="tab"
                                               href="#nav-Economics" role="tab" aria-controls="nav-contact"
                                               aria-selected="false">Economics</a>
                                            <a class="nav-item nav-link" id="nav-sport-tab" data-toggle="tab"
                                               href="#nav-Sport" role="tab" aria-controls="nav-contact"
                                               aria-selected="false">Sport</a>
                                            <a class="nav-item nav-link" id="nav-technology-tab" data-toggle="tab"
                                               href="#nav-Technology" role="tab" aria-controls="nav-contact"
                                               aria-selected="true">Technology</a>
                                        </div>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12">

                            <div class="tab-content" id="nav-tabContent">

                                <div class="tab-pane fade show active" id="nav-All" role="tabpanel"
                                     aria-labelledby="nav-all-tab">
                                    <div class="row">
                                        <div class="col-xl-6 col-lg-7" id="all-slider-new-wrapper"></div>

                                        <div class="col-xl-6 col-lg-5">
                                            <div class="row" id="all-side-new-wrapper"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="tab-pane fade" id="nav-Politics" role="tabpanel"
                                     aria-labelledby="nav-politics-tab">
                                    <div class="row">
                                        <div class="col-xl-6 col-lg-7" id="politics-slider-new-wrapper"></div>

                                        <div class="col-xl-6 col-lg-5">
                                            <div class="row" id="politics-side-new-wrapper"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="tab-pane fade" id="nav-Health" role="tabpanel"
                                     aria-labelledby="nav-health-tab">
                                    <div class="row">

                                        <div class="col-xl-6 col-lg-7" id="health-slider-new-wrapper"></div>

                                        <div class="col-xl-6 col-lg-5">
                                            <div class="row" id="health-side-new-wrapper"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="tab-pane fade" id="nav-Economics" role="tabpanel"
                                     aria-labelledby="nav-economics-tab">
                                    <div class="row">

                                        <div class="col-xl-6 col-lg-7" id="economics-slider-new-wrapper"></div>

                                        <div class="col-xl-6 col-lg-5">
                                            <div class="row" id="economics-side-new-wrapper"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="tab-pane fade" id="nav-Sport" role="tabpanel"
                                     aria-labelledby="nav-sport-tab">
                                    <div class="row">

                                        <div class="col-xl-6 col-lg-7" id="sport-slider-new-wrapper"></div>

                                        <div class="col-xl-6 col-lg-5">
                                            <div class="row" id="sport-side-new-wrapper"></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="tab-pane fade" id="nav-Technology" role="tabpanel"
                                     aria-labelledby="nav-technology-tab">
                                    <div class="row">

                                        <div class="col-xl-6 col-lg-7" id="technology-slider-new-wrapper"></div>

                                        <div class="col-xl-6 col-lg-5">
                                            <div class="row" id="technology-side-new-wrapper"></div>
                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <div class="instagram-area fix" style="margin-top: 20px">
        <div class="container-fluid p-0">
            <div class="row">
                <div class="col-xl-12">
                    <div class="instagram-active owl-carousel">
                        <div class="single-instagram">
                            <img src="assets/img/gallery/xinstra1.jpg.pagespeed.ic.GSgh8nonyi.jpg" alt="">
                            <a href="#"><i class="fa fa-instagram"></i></a>
                        </div>
                        <div class="single-instagram">
                            <img src="assets/img/gallery/xinstra2.jpg.pagespeed.ic.iIVHYx2eh_.jpg" alt="">
                            <a href="#"><i class="fa fa-instagram"></i></a>
                        </div>
                        <div class="single-instagram">
                            <img src="assets/img/gallery/xinstra3.jpg.pagespeed.ic.oTeFcXfFju.jpg" alt="">
                            <a href="#"><i class="fa fa-instagram"></i></a>
                        </div>
                        <div class="single-instagram">
                            <img src="assets/img/gallery/xinstra4.jpg.pagespeed.ic.Ef5JSlPEeo.jpg" alt="">
                            <a href="#"><i class="fa fa-instagram"></i></a>
                        </div>
                        <div class="single-instagram">
                            <img src="assets/img/gallery/xinstra5.jpg.pagespeed.ic.JHj6wXPmAJ.jpg" alt="">
                            <a href="#"><i class="fa fa-instagram"></i></a>
                        </div>
                        <div class="single-instagram">
                            <img src="assets/img/gallery/xinstra6.jpg.pagespeed.ic.9UmKYcdNvC.jpg" alt="">
                            <a href="#"><i class="fa fa-instagram"></i></a>
                        </div>
                        <div class="single-instagram">
                            <img src="assets/img/gallery/xinstra3.jpg.pagespeed.ic.oTeFcXfFju.jpg" alt="">
                            <a href="#"><i class="fa fa-instagram"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<footer>
    <div class="footer-area footer-padding">
        <div class="container">
            <div class="row d-flex justify-content-between">
                <div class="col-xl-4 col-lg-4 col-md-6 col-sm-6">
                    <div class="single-footer-caption mb-50">
                        <div class="single-footer-caption mb-30">

                            <div class="footer-logo mb-25">
                                <a href="index.html"><img src="assets/img/new-news-logo2.png" width="300" height="auto"></a>
                            </div>
                            <div class="footer-tittle">
                                <div class="footer-pera">
                                    <p>Heaven fruitful doesn't over lesser days appear creeping seasons so behold
                                        bearing days open</p>
                                </div>
                            </div>
                            <div class="footer-social">
                                <a href="#"><i class="fa fa-facebook-f"></i></a>
                                <a href="#"><i class="fa fa-instagram"></i></a>
                                <a href="#"><i class="fa fa-twitter"></i></a>
                                <a href="#"><i class="fa fa-linkedin-in"></i></a>
                                <a href="#"><i class="fa fa-tumblr"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-2 col-lg-2 col-md-4 col-sm-5">
                    <div class="single-footer-caption mb-50">
                        <div class="footer-tittle">
                            <h4>Useful links</h4>
                            <ul>
                                <li><a href="#">About Me</a></li>
                                <li><a href="#">Become an Writer</a></li>
                                <li><a href="#">Privacy & Policy</a></li>
                                <li><a href="#">Terms</a></li>
                                <li><a href="#">Contact Us</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6">
                    <div class="single-footer-caption mb-50">
                        <div class="footer-tittle">
                            <h4>Top Categories</h4>
                            <ul>
                                <li><a href="#">Politics</a></li>
                                <li><a href="#"> Health</a></li>
                                <li><a href="#">Economics</a></li>
                                <li><a href="#">Sport</a></li>
                                <li><a href="#">Technology</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-lg-3 col-md-6 col-sm-6">
                    <div class="single-footer-caption mb-50">
                        <div class="footer-tittle mb-50">
                            <h4>Subscribe Newsletter</h4>
                            <p>Subscribe our newsletter to get update news & updates.</p>
                        </div>

                        <div class="footer-form">
                            <div id="mc_embed_signup">
                                <form target="_blank"
                                      action="https://spondonit.us12.list-manage.com/subscribe/post?u=1462626880ade1ac87bd9c93a&amp;id=92a4423d01"
                                      class="subscribe_form relative mail_part" novalidate>
                                    <input type="email" name="EMAIL" id="newsletter-form-email"
                                           placeholder="  Enter your email">
                                    <div class="form-icon">
                                        <button type="submit" name="submit" id="newsletter-submit"
                                                class="email_icon newsletter-submit button-contactForm">
                                            Subscribe
                                        </button>
                                    </div>
                                    <div class="mt-10 info"></div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="footer-bottom-area">
        <div class="container">
            <div class="row d-flex align-items-center footer-border">
                <div class="col-xl-12 footer-copy-right text-center">
                    <p>Copyright &copy;<script>document.write(new Date().getFullYear());</script>
                        All rights reserved | Made with <i class="fa fa-heart color-danger"
                                                           aria-hidden="true"></i> by <a
                                rel="nofollow noopener">Ali Yousefi</a>
                    </p>

                </div>
            </div>
        </div>
    </div>
</footer>

<div id="back-top">
    <a title="Go to Top"> <i class="fa fa-arrow-up" style="color: white"></i></a>
</div>


<script src="./assets/js/vendor/modernizr-3.5.0.min.js"></script>
<script src="./assets/js/vendor/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="api.js"></script>
<script>
    if (localStorage.getItem('token') === null)
        localStorage.setItem('token', '');
    if (localStorage.getItem('token') === '')
        localStorage.setItem('token', guestToken);


    // document.cookie = "uuid=fweuofjweiofmfweio";
    console.log(document.cookie);
    console.log(getCookie('category'));
    console.log(isLogin());

    // changeButton();

    if (isLogin()) {
        document.getElementById('login_state').innerHTML += `<li><a class="header-btn">${getCookie('username')}</a>
                                            <ul class="multipage">
                                                <li><a href="profile.html?username=${getCookie('username')}"><i class="fa fa-user" style="padding-right: 10px"></i>Profile</a></li>
                                                <li><a href="add_news.html"><i class="fa fa-plus-square" style="padding-right: 10px"></i>Add news</a></li>
                                                <li><a href="setting.html"><i class="fa fa-cog" style="padding-right: 10px"></i>Setting</a></li>
                                                <li><a href="#" onclick="logout('index.html');"><i class="fa fa-sign-out" style="padding-right: 10px"></i>Logout</a></li>
                                            </ul>
                                        </li>`
    } else document.getElementById('login_state').innerHTML += `<li><a href="login.html" class="header-btn" id="login_button">Sign in</a></li>`

</script>

<script>
    let getNews = () => {
        // fetch('https://news-websitex.herokuapp.com/api/news')
        // http://127.0.0.1:8000/api/newsbyview/Sport,Economics
        fetch('http://127.0.0.1:8000/api/newsbyview/' + getCookie('category') + '?page=1&page_size=9', {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': 'Token ' + localStorage.getItem('token')
            },
        })
            .then(res => res.json())
            .then(data => {
                console.log('success: ', data);
                buildNews(data);

            });
    };

    let buildNews = (news) => {
        let newsWrapper = document.getElementById('trending-wrapper');
        // newsWrapper.innerHTML = '';

        for (let i = 0; i < news.results.length; i++) {
            let newsItem = news.results[i];

            var date = new Date(newsItem.createDate);


            if (i === 0) {
                let firstCard = `<div class="col-lg-4 col-md-6 col-sm-12">
                <div class="trending mb-30">
                    <div class="trend-top-img">
                    <a href="news_details.html?id=${newsItem.newsID}"><img src="${newsItem.ImageUrl}" alt="" height="445" style="object-fit: cover"></a>
                        <div class="trend-top-cap">
                            <span style="background: ${categoryColor(newsItem.newsClass)}">${newsItem.newsClass}</span>
                            <span style="background: #56675a">${newsItem.viewCounter}  <i class="fas fa-eye"></i></span>
                            <h2><a href="news_details.html?id=${newsItem.newsID}">${newsItem.newsTitle}</a></h2>
                            <p>${date.getDate()} ${date.toLocaleString('default', {month: 'short'})} ${date.getFullYear()}  |  by
                                <a href="profile.html?username=${newsItem.username}">${newsItem.author}</a></p>
                        </div>
                    </div>
                </div>
            </div>`;
                newsWrapper.innerHTML += firstCard;
            } else {
                let newsCard = `<div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="properties mb-30">
                        <div class="properties-card">
                            <div class="properties-img">
                                <a href="news_details.html?id=${newsItem.newsID}"><img
                                        src="${newsItem.ImageUrl}" alt="" style="object-fit: cover"></a>
                                <div class="img-text">
                                    <span style="background: ${categoryColor(newsItem.newsClass)}">${newsItem.newsClass}</span>
                                    <span style="background: #56675a">${newsItem.viewCounter}  <i class="fas fa-eye"></i></span>
                                </div>
                            </div>
                            <div class="properties-caption">
                                <h3><a href="news_details.html?id=${newsItem.newsID}">${newsItem.newsTitle}</a></h3>
                                <p>${date.getDate()} ${date.toLocaleString('default', {month: 'short'})} ${date.getFullYear()}  |  by
                                <a href="profile.html?username=${newsItem.username}">${newsItem.author}</a></p>
                            </div>
                        </div>
                    </div>
                </div>`;

                newsWrapper.innerHTML += newsCard;
            }


        }


    };


    getNews();
</script>
<script>
    let getPopularNews = () => {
        // fetch('https://news-websitex.herokuapp.com/api/news')
        fetch('http://127.0.0.1:8000/api/newsbyview?page=1&page_size=3', {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': 'Token ' + localStorage.getItem('token')
            },
        })
            .then(res => res.json())
            .then(data => {
                console.log('success: ', data);
                buildPopularNews(data);
            });
    };

    let buildPopularNews = (news) => {
        let newsWrapper = document.getElementById('top-news-wrapper');

        for (let i = 0; i < news.results.length; i++) {
            let newsItem = news.results[i];

            var date = new Date(newsItem.createDate);


            let newsCard = `
            <div class="col-lg-4 col-md-6 col-sm-12">
                <div class="trending mb-30">
                    <div class="trend-top-img">
                    <a href="news_details.html?id=${newsItem.newsID}"><img src="${newsItem.ImageUrl}" alt="" height="445" style="object-fit: cover"></a>
                        <div class="trend-top-cap">
                            <span style="background: ${categoryColor(newsItem.newsClass)}">${newsItem.newsClass}</span>
                            <span style="background: #56675a">${newsItem.viewCounter}  <i class="fas fa-eye"></i></span>
                            <h2><a href="news_details.html?id=${newsItem.newsID}">${newsItem.newsTitle}</a></h2>
                            <p>${date.getDate()} ${date.toLocaleString('default', {month: 'short'})} ${date.getFullYear()}  |  by
                                <a href="profile.html?username=${newsItem.username}">${newsItem.author}</a></p>
                        </div>
                    </div>
                </div>
            </div>`;

            newsWrapper.innerHTML += newsCard;


        }


    };

    getPopularNews();
</script>
<script>

    let getNewNews = (category) => {
        // fetch('https://news-websitex.herokuapp.com/api/news')
        fetch('http://127.0.0.1:8000/api/newsbydate?page=1&page_size=4&search=' + (category === 'All' ? '' : category), {
            method: 'GET',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': 'Token ' + localStorage.getItem('token')
            },
        })
            .then(res => res.json())
            .then(data => {
                console.log('success: ', data);
                buildNewNews(data, category);
            });
    };

    let buildNewNews = (news, category) => {

        var sliderWrapper;
        var sideWrapper;


        switch (category) {
            case 'All':
                sliderWrapper = document.getElementById('all-slider-new-wrapper');
                sideWrapper = document.getElementById('all-side-new-wrapper');
                break;

            case 'Politics':
                sliderWrapper = document.getElementById('politics-slider-new-wrapper');
                sideWrapper = document.getElementById('politics-side-new-wrapper');
                break;

            case 'Health':
                sliderWrapper = document.getElementById('health-slider-new-wrapper');
                sideWrapper = document.getElementById('health-side-new-wrapper');
                break;

            case 'Economics':
                sliderWrapper = document.getElementById('economics-slider-new-wrapper');
                sideWrapper = document.getElementById('economics-side-new-wrapper');
                break;

            case 'Sport':
                sliderWrapper = document.getElementById('sport-slider-new-wrapper');
                sideWrapper = document.getElementById('sport-side-new-wrapper');
                break;

            case 'Technology':
                sliderWrapper = document.getElementById('technology-slider-new-wrapper');
                sideWrapper = document.getElementById('technology-side-new-wrapper');
                break;
            default:


        }


        for (let i = 0; i < news.results.length; i++) {
            let newsItem = news.results[i];

            var date = new Date(newsItem.createDate);


            if (i === 0) {
                let sliderCard = `<div class="single-slider">
                                                    <div class="trending-top mb-30">
                                                        <div class="trend-top-img">
                                                            <a href="news_details.html?id=${newsItem.newsID}">
                                                                <img src="${newsItem.ImageUrl}" height="475" style="object-fit: cover"></a>
                                                            <div class="trend-top-cap">
                                                                    <span class="small-btn mb-20" style="background: ${categoryColor(newsItem.newsClass)}">
                                                                               ${newsItem.newsClass}</span>
                                                                    <span class="small-btn mb-20" style="background: #56675a">${newsItem.viewCounter}  <i class="fas fa-eye"></i></span>
                                                                <h2><a href="news_details.html?id=${newsItem.newsID}">${newsItem.newsTitle}</a></h2>
                                                                <p>
                                                                    ${date.getDate()} ${date.toLocaleString('default', {month: 'short'})} ${date.getFullYear()} | by <a
                                                                        href="profile.html?username=${newsItem.username}">${newsItem.author}</a></p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>`;
                sliderWrapper.innerHTML += sliderCard;
            } else {
                let sideCard = `<div class="col-xl-12 col-lg-12 col-md-10 col-sm-11">
                                                    <div class="whats-right-single mb-20">
                                                        <div class="whats-right-img">
                                                            <a href="news_details.html?id=${newsItem.newsID}"><img
                                                                    src="${newsItem.ImageUrl}" style="object-fit: cover" height="145" width="300"></a>
                                                        </div>
                                                        <div class="whats-right-cap">
                                                            <span >${newsItem.newsClass} | </span>
                                                            <span >${newsItem.viewCounter}  <i class="fas fa-eye"></i></span>
                                                            <h4><a href="news_details.html?id=${newsItem.newsID}">${newsItem.newsTitle}</a></h4>
                                                            <p>${date.getDate()} ${date.toLocaleString('default', {month: 'short'})} ${date.getFullYear()} | by
                                                                <a href=href="profile.html?username=${newsItem.username}">${newsItem.author}</a></p>
                                                        </div>
                                                    </div>
                                                </div>`;

                sideWrapper.innerHTML += sideCard;
            }


        }


    };
    getNewNews('All');
    getNewNews('Politics');
    getNewNews('Health');
    getNewNews('Economics');
    getNewNews('Sport');
    getNewNews('Technology');


</script>
<script src="assets/js/popper.min.js+bootstrap.min.js.pagespeed.jc.-Z5m6ljAND.js"></script>
<script>eval(mod_pagespeed_aaYokwErtx);</script>
<script>eval(mod_pagespeed_gMJAcNlmbI);</script>

<script src="assets/js/owl.carousel.min.js+slick.min.js.pagespeed.jc.F6wXCct6U2.js"></script>
<script>eval(mod_pagespeed_KlLvOZN8Fy);</script>
<script>eval(mod_pagespeed_$TEYNsEnUF);</script>
<script src="assets/js/lightslider.min.js+jquery.slicknav.min.js+wow.min.js+jquery.js"></script>
<script>eval(mod_pagespeed_SsjX9wl8YK);</script>
<script>eval(mod_pagespeed_FsFY_1b99X);</script>

<script>eval(mod_pagespeed_yCBvmSHiqi);</script>
<script>eval(mod_pagespeed_6wgZmOj4mJ);</script>
<script>eval(mod_pagespeed_ACR6aNIQJ0);</script>

<script>eval(mod_pagespeed_l3DmqqKHpk);</script>
<script src="assets/js/jquery.form.js+jquery.validate.min.js+mail-script.js+jquery.js"></script>
<script>eval(mod_pagespeed_Tz7N8H_GxJ);</script>
<script>eval(mod_pagespeed_eCe2npfiIC);</script>
<script>eval(mod_pagespeed_IEpshS3M$A);</script>
<script>eval(mod_pagespeed_no8v3TXY1I);</script>

<script>eval(mod_pagespeed_Xuk2NU2Nkf);</script>
<script>eval(mod_pagespeed_$TGHfHB1G2);</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-23581568-13"></script>
<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'UA-23581568-13');
</script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/v652eace1692a40cfa3763df669d7439c1639079717194"
        integrity="sha512-Gi7xpJR8tSkrpF7aordPZQlW2DLtzUlZcumS8dMQjwDHEnw9I7ZLyiOj/6tZStRBGtGgN6ceN6cMH8z7etPGlw=="
        data-cf-beacon='{"rayId":"6c5212007e604a91","token":"cd0b4b3a733644fc843ef0b185f98241","version":"2021.12.0","si":100}'
        crossorigin="anonymous"></script>
</body>
</html>